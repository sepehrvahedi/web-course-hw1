# پیاده‌سازی ارزیابی دینامیک فرمول‌ها در HTML با قابلیت حالت تاریک

## شرح پروژه
این پروژه یک راهکار برای ارزیابی دینامیک فرمول‌ها در صفحات HTML ارائه می‌دهد. با استفاده از این راهکار، می‌توان فرمول‌هایی را تعریف کرد که بر اساس ورودی‌های کاربر به صورت آنی محاسبه و نمایش داده می‌شوند. علاوه بر این، طراحی واکنش‌گرا و زیبا با پشتیبانی از حالت روشن و تاریک (Dark Mode) امکان استفاده بهینه در شرایط مختلف را فراهم می‌کند.

## ویژگی‌های اصلی
* ارزیابی فرمول‌ها به صورت آنی و نمایش نتیجه با هر تغییر در ورودی‌ها
* پشتیبانی از چندین فرمول در یک صفحه
* تشخیص و نمایش پیام خطا برای فرمول‌های نامعتبر
* طراحی واکنش‌گرا (Responsive) برای استفاده در دستگاه‌های مختلف
* قابلیت تغییر بین حالت روشن و تاریک (Dark Mode)
* ذخیره تنظیمات حالت روشن/تاریک در localStorage
* استفاده از آیکون‌ها برای ارتقای رابط کاربری
* افکت‌های حرکتی برای بهبود تجربه کاربری

## ساختار پروژه
پروژه از دو فایل اصلی تشکیل شده است:

1. **index.html**: صفحه HTML اصلی که شامل سه نمونه از کاربرد فرمول‌ها است:
   - محاسبه قیمت نهایی (قیمت واحد × تعداد - تخفیف)
   - محاسبه مساحت مستطیل (طول × عرض)
   - محاسبه میانگین نمرات

2. **formula.js**: کد جاوااسکریپت که مسئول پردازش فرمول‌ها، به‌روزرسانی نتایج و مدیریت حالت روشن/تاریک است.

## معماری برنامه
برنامه بر اساس اصول برنامه‌نویسی شی‌گرا طراحی شده و از سه کلاس اصلی تشکیل شده است:

### کلاس `FormulaEvaluator`
این کلاس مسئول پردازش و ارزیابی یک فرمول خاص است:
- استخراج شناسه‌های ورودی از فرمول
- ایجاد المان نمایش نتیجه
- افزودن شنونده رویدادها به ورودی‌های مرتبط
- محاسبه و نمایش نتیجه فرمول

### کلاس `FormulasManager`
این کلاس مسئول مدیریت تمام فرمول‌های موجود در صفحه است:
- پیدا کردن تمام المان‌های فرمول در DOM
- ایجاد نمونه‌های کلاس `FormulaEvaluator` برای هر فرمول

### کلاس `ThemeManager`
این کلاس مسئول مدیریت حالت روشن/تاریک صفحه است:
- راه‌اندازی حالت پیش‌فرض بر اساس تنظیمات ذخیره شده
- تغییر حالت روشن/تاریک با کلیک روی دکمه تغییر حالت
- ذخیره تنظیمات حالت در localStorage

## طراحی واکنش‌گرا
طراحی واکنش‌گرا به گونه‌ای پیاده‌سازی شده که صفحه در تمام دستگاه‌ها از جمله موبایل، تبلت و دسکتاپ به خوبی نمایش داده می‌شود:
- استفاده از واحدهای نسبی برای اندازه‌گیری
- تعریف نقاط شکست (Breakpoints) برای صفحات با عرض‌های مختلف
- تغییر چیدمان و اندازه المان‌ها متناسب با عرض صفحه

## حالت تاریک (Dark Mode)
قابلیت حالت تاریک با استفاده از متغیرهای CSS و JavaScript پیاده‌سازی شده است:
- استفاده از متغیرهای CSS برای تعریف رنگ‌ها
- تغییر مقادیر متغیرها بر اساس حالت انتخاب شده
- ذخیره تنظیمات در localStorage برای حفظ حالت انتخابی کاربر
- انیمیشن‌های نرم هنگام تغییر حالت

## نحوه استفاده
برای استفاده از این راهکار در صفحات HTML، کافی است:

1. فایل‌های JavaScript و CSS را به صفحه HTML اضافه کنید:
   <html_artifact><script src="formula.js"></script></html_artifact>

2. فرمول‌ها را با استفاده از تگ `<formula>` و صفت `evaluator` تعریف کنید:
   <html_artifact><formula evaluator="length * width"></formula></html_artifact>

3. اطمینان حاصل کنید که تمام ورودی‌های مورد استفاده در فرمول دارای شناسه (id) هستند.

## مزایای رویکرد شی‌گرا
- **قابلیت توسعه**: امکان اضافه کردن قابلیت‌های جدید بدون تغییر ساختار اصلی
- **قابلیت استفاده مجدد**: استفاده آسان از این راهکار در پروژه‌های دیگر
- **نگهداری آسان**: تفکیک مسئولیت‌ها به کلاس‌های مختلف باعث می‌شود نگهداری و عیب‌یابی آسان‌تر شود
- **مقیاس‌پذیری**: امکان افزودن تعداد نامحدودی فرمول به صفحه بدون تداخل

## بهبودهای طراحی
- **طراحی مدرن**: استفاده از طراحی مدرن با سایه‌ها، گردی کنج‌ها و فضای خالی به میزان مناسب
- **انیمیشن‌ها**: اضافه کردن انیمیشن‌های ظریف برای بهبود تجربه کاربری
- **آیکون‌ها**: استفاده از آیکون‌ها برای بهبود بصری و افزایش درک کاربر
- **تم‌بندی**: استفاده از متغیرهای CSS برای مدیریت رنگ‌ها و ایجاد هماهنگی بصری
- **سربرگ و پاورقی**: اضافه کردن سربرگ چسبنده و پاورقی برای بهبود ساختار صفحه

## نتیجه‌گیری
این پروژه یک راهکار کارآمد برای ارزیابی دینامیک فرمول‌ها در صفحات وب ارائه می‌دهد که با طراحی زیبا و واکنش‌گرا همراه شده است. با پشتیبانی از حالت تاریک، این پروژه قابلیت استفاده در شرایط نوری مختلف را دارد و تجربه کاربری بهتری را فراهم می‌کند.
